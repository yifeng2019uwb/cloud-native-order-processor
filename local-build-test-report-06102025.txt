
[0;35m🧪 Local Testing Script - Mirror CI/CD Pipeline[0m
[0;35m================================================[0m

[0;34m[INFO][0m 🔄 Running Full Test Suite

[0;35m=== 🔍 Checking Prerequisites ===[0m
[1;33m[WARNING][0m Python version is 3.13, expected 3.11
[0;32m[SUCCESS][0m Prerequisites check passed

[0;35m=== 🔧 Setting Up Test Environment ===[0m
[0;34m[INFO][0m Loading default configuration...
[0;34m[INFO][0m Loading local configuration...
[0;32m[SUCCESS][0m Test environment setup complete

[0;35m=== 🏗️ Building Services (Mirror CI/CD Build Stage) ===[0m
[0;36m--- Building common package ---[0m
[0;34m[INFO][0m Using Python: python3.11
[0;32m[SUCCESS][0m Virtual environment ready: Requirement already satisfied: pip in ./.venv-common/lib/python3.11/site-packages (25.1.1)
Requirement already satisfied: setuptools in ./.venv-common/lib/python3.11/site-packages (80.9.0)
Requirement already satisfied: wheel in ./.venv-common/lib/python3.11/site-packages (0.45.1)
.venv-common
[0;34m[INFO][0m Installing dependencies for common
[0;34m[INFO][0m Installing service requirements
[0;34m[INFO][0m No test requirements file found, installing basic test dependencies
Requirement already satisfied: pytest in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (8.4.0)
Requirement already satisfied: pytest-asyncio in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (1.0.0)
Requirement already satisfied: pytest-mock in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (3.14.1)
Requirement already satisfied: pytest-cov in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (6.1.1)
Requirement already satisfied: iniconfig>=1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.1.0)
Requirement already satisfied: packaging>=20 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (25.0)
Requirement already satisfied: pluggy<2,>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (1.6.0)
Requirement already satisfied: pygments>=2.7.2 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.19.1)
Requirement already satisfied: coverage>=7.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from coverage[toml]>=7.5->pytest-cov) (7.8.2)
[1;33m[WARNING][0m No setup.py found, skipping package build
[0;32m[SUCCESS][0m Build completed successfully for: common
[1;33m[WARNING][0m Skipping htmlcov (no requirements.txt)
[0;36m--- Building inventory-service ---[0m
[0;34m[INFO][0m Using Python: python3.11
[0;32m[SUCCESS][0m Virtual environment ready: Requirement already satisfied: pip in ./.venv-inventory-service/lib/python3.11/site-packages (25.1.1)
Requirement already satisfied: setuptools in ./.venv-inventory-service/lib/python3.11/site-packages (80.9.0)
Requirement already satisfied: wheel in ./.venv-inventory-service/lib/python3.11/site-packages (0.45.1)
.venv-inventory-service
[0;34m[INFO][0m Installing dependencies for inventory-service
[0;34m[INFO][0m Installing common package dependencies
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 2)) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 3)) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 4)) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 5)) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 6)) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (4.14.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->-r common/requirements.txt (line 3)) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (3.10)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (1.17.0)
[0;34m[INFO][0m Installing common package in development mode
Obtaining file:///Users/yifengzhang/workspace/cloud-native-order-processor/services/common
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.1.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->order-processor-common==1.0.0) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (3.10)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (4.14.0)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (1.17.0)
Installing collected packages: order-processor-common
  Attempting uninstall: order-processor-common
    Found existing installation: order-processor-common 1.0.0
    Uninstalling order-processor-common-1.0.0:
      Successfully uninstalled order-processor-common-1.0.0
  Running setup.py develop for order-processor-common
Successfully installed order-processor-common-1.0.0
[0;34m[INFO][0m Installing service requirements
[0;34m[INFO][0m No test requirements file found, installing basic test dependencies
Requirement already satisfied: pytest in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (8.4.0)
Requirement already satisfied: pytest-asyncio in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (1.0.0)
Requirement already satisfied: pytest-mock in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (3.14.1)
Requirement already satisfied: pytest-cov in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (6.1.1)
Requirement already satisfied: iniconfig>=1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.1.0)
Requirement already satisfied: packaging>=20 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (25.0)
Requirement already satisfied: pluggy<2,>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (1.6.0)
Requirement already satisfied: pygments>=2.7.2 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.19.1)
Requirement already satisfied: coverage>=7.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from coverage[toml]>=7.5->pytest-cov) (7.8.2)
[1;33m[WARNING][0m No setup.py found, skipping package build
[0;32m[SUCCESS][0m Build completed successfully for: inventory-service
[0;36m--- Building notification-service ---[0m
[0;34m[INFO][0m Using Python: python3.11
[0;32m[SUCCESS][0m Virtual environment ready: Requirement already satisfied: pip in ./.venv-notification-service/lib/python3.11/site-packages (25.1.1)
Requirement already satisfied: setuptools in ./.venv-notification-service/lib/python3.11/site-packages (80.9.0)
Requirement already satisfied: wheel in ./.venv-notification-service/lib/python3.11/site-packages (0.45.1)
.venv-notification-service
[0;34m[INFO][0m Installing dependencies for notification-service
[0;34m[INFO][0m Installing common package dependencies
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 2)) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 3)) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 4)) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 5)) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 6)) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (4.14.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->-r common/requirements.txt (line 3)) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (3.10)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (1.17.0)
[0;34m[INFO][0m Installing common package in development mode
Obtaining file:///Users/yifengzhang/workspace/cloud-native-order-processor/services/common
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.1.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->order-processor-common==1.0.0) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (3.10)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (4.14.0)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (1.17.0)
Installing collected packages: order-processor-common
  Attempting uninstall: order-processor-common
    Found existing installation: order-processor-common 1.0.0
    Uninstalling order-processor-common-1.0.0:
      Successfully uninstalled order-processor-common-1.0.0
  Running setup.py develop for order-processor-common
Successfully installed order-processor-common-1.0.0
[0;34m[INFO][0m Installing service requirements
[0;34m[INFO][0m No test requirements file found, installing basic test dependencies
Requirement already satisfied: pytest in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (8.4.0)
Requirement already satisfied: pytest-asyncio in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (1.0.0)
Requirement already satisfied: pytest-mock in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (3.14.1)
Requirement already satisfied: pytest-cov in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (6.1.1)
Requirement already satisfied: iniconfig>=1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.1.0)
Requirement already satisfied: packaging>=20 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (25.0)
Requirement already satisfied: pluggy<2,>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (1.6.0)
Requirement already satisfied: pygments>=2.7.2 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.19.1)
Requirement already satisfied: coverage>=7.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from coverage[toml]>=7.5->pytest-cov) (7.8.2)
[1;33m[WARNING][0m No setup.py found, skipping package build
[0;32m[SUCCESS][0m Build completed successfully for: notification-service
[0;36m--- Building order-service ---[0m
[0;34m[INFO][0m Using Python: python3.11
[0;32m[SUCCESS][0m Virtual environment ready: Requirement already satisfied: pip in ./.venv-order-service/lib/python3.11/site-packages (25.1.1)
Requirement already satisfied: setuptools in ./.venv-order-service/lib/python3.11/site-packages (80.9.0)
Requirement already satisfied: wheel in ./.venv-order-service/lib/python3.11/site-packages (0.45.1)
.venv-order-service
[0;34m[INFO][0m Installing dependencies for order-service
[0;34m[INFO][0m Installing common package dependencies
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 2)) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 3)) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 4)) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 5)) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 6)) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (4.14.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->-r common/requirements.txt (line 3)) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (3.10)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (1.17.0)
[0;34m[INFO][0m Installing common package in development mode
Obtaining file:///Users/yifengzhang/workspace/cloud-native-order-processor/services/common
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.1.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->order-processor-common==1.0.0) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (3.10)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (4.14.0)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (1.17.0)
Installing collected packages: order-processor-common
  Attempting uninstall: order-processor-common
    Found existing installation: order-processor-common 1.0.0
    Uninstalling order-processor-common-1.0.0:
      Successfully uninstalled order-processor-common-1.0.0
  Running setup.py develop for order-processor-common
Successfully installed order-processor-common-1.0.0
[0;34m[INFO][0m Installing service requirements
[0;34m[INFO][0m No test requirements file found, installing basic test dependencies
Requirement already satisfied: pytest in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (8.4.0)
Requirement already satisfied: pytest-asyncio in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (1.0.0)
Requirement already satisfied: pytest-mock in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (3.14.1)
Requirement already satisfied: pytest-cov in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (6.1.1)
Requirement already satisfied: iniconfig>=1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.1.0)
Requirement already satisfied: packaging>=20 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (25.0)
Requirement already satisfied: pluggy<2,>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (1.6.0)
Requirement already satisfied: pygments>=2.7.2 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.19.1)
Requirement already satisfied: coverage>=7.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from coverage[toml]>=7.5->pytest-cov) (7.8.2)
[0;34m[INFO][0m Set PYTHONPATH for order-service: /Users/yifengzhang/workspace/cloud-native-order-processor/services/src:/Users/yifengzhang/workspace/cloud-native-order-processor/services/../common:/Users/yifengzhang/workspace/cloud-native-order-processor
[1;33m[WARNING][0m No setup.py found, skipping package build
[0;32m[SUCCESS][0m Build completed successfully for: order-service
[0;36m--- Building payment-service ---[0m
[0;34m[INFO][0m Using Python: python3.11
[0;32m[SUCCESS][0m Virtual environment ready: Requirement already satisfied: pip in ./.venv-payment-service/lib/python3.11/site-packages (25.1.1)
Requirement already satisfied: setuptools in ./.venv-payment-service/lib/python3.11/site-packages (80.9.0)
Requirement already satisfied: wheel in ./.venv-payment-service/lib/python3.11/site-packages (0.45.1)
.venv-payment-service
[0;34m[INFO][0m Installing dependencies for payment-service
[0;34m[INFO][0m Installing common package dependencies
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 2)) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 3)) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 4)) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 5)) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 6)) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from -r common/requirements.txt (line 7)) (2.1.0)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->-r common/requirements.txt (line 2)) (4.14.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->-r common/requirements.txt (line 3)) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->-r common/requirements.txt (line 4)) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->-r common/requirements.txt (line 7)) (3.10)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->-r common/requirements.txt (line 4)) (1.17.0)
[0;34m[INFO][0m Installing common package in development mode
Obtaining file:///Users/yifengzhang/workspace/cloud-native-order-processor/services/common
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: pydantic==2.5.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.5.0)
Requirement already satisfied: asyncpg==0.29.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (0.29.0)
Requirement already satisfied: boto3==1.29.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.29.7)
Requirement already satisfied: python-dotenv==1.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (1.0.0)
Requirement already satisfied: pyyaml==6.0.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (6.0.1)
Requirement already satisfied: email-validator==2.1.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from order-processor-common==1.0.0) (2.1.0)
Requirement already satisfied: async-timeout>=4.0.3 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from asyncpg==0.29.0->order-processor-common==1.0.0) (5.0.1)
Requirement already satisfied: botocore<1.33.0,>=1.32.7 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.32.7)
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (1.0.1)
Requirement already satisfied: s3transfer<0.9.0,>=0.8.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from boto3==1.29.7->order-processor-common==1.0.0) (0.8.0)
Requirement already satisfied: dnspython>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (2.7.0)
Requirement already satisfied: idna>=2.0.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from email-validator==2.1.0->order-processor-common==1.0.0) (3.10)
Requirement already satisfied: annotated-types>=0.4.0 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (2.14.1)
Requirement already satisfied: typing-extensions>=4.6.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pydantic==2.5.0->order-processor-common==1.0.0) (4.14.0)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.9.0.post0)
Requirement already satisfied: urllib3<2.1,>=1.25.4 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (2.0.7)
Requirement already satisfied: six>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.0,>=1.32.7->boto3==1.29.7->order-processor-common==1.0.0) (1.17.0)
Installing collected packages: order-processor-common
  Attempting uninstall: order-processor-common
    Found existing installation: order-processor-common 1.0.0
    Uninstalling order-processor-common-1.0.0:
      Successfully uninstalled order-processor-common-1.0.0
  Running setup.py develop for order-processor-common
Successfully installed order-processor-common-1.0.0
[0;34m[INFO][0m Installing service requirements
[0;34m[INFO][0m No test requirements file found, installing basic test dependencies
Requirement already satisfied: pytest in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (8.4.0)
Requirement already satisfied: pytest-asyncio in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (1.0.0)
Requirement already satisfied: pytest-mock in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (3.14.1)
Requirement already satisfied: pytest-cov in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (6.1.1)
Requirement already satisfied: iniconfig>=1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.1.0)
Requirement already satisfied: packaging>=20 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (25.0)
Requirement already satisfied: pluggy<2,>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (1.6.0)
Requirement already satisfied: pygments>=2.7.2 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.19.1)
Requirement already satisfied: coverage>=7.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from coverage[toml]>=7.5->pytest-cov) (7.8.2)
[1;33m[WARNING][0m No setup.py found, skipping package build
[0;32m[SUCCESS][0m Build completed successfully for: payment-service
[0;32m[SUCCESS][0m Service builds completed successfully

[0;35m=== 🎨 Code Quality & Linting (Mirror CI/CD Lint Stage) ===[0m
[0;36m--- Running linting via build script ---[0m
[0;34m[INFO][0m Using Python: python3.11
[0;32m[SUCCESS][0m Virtual environment ready: Requirement already satisfied: pip in ./.venv-common/lib/python3.11/site-packages (25.1.1)
Requirement already satisfied: setuptools in ./.venv-common/lib/python3.11/site-packages (80.9.0)
Requirement already satisfied: wheel in ./.venv-common/lib/python3.11/site-packages (0.45.1)
.venv-common
[0;34m[INFO][0m Installing dependencies for common
[0;34m[INFO][0m Installing service requirements
[0;34m[INFO][0m No test requirements file found, installing basic test dependencies
Requirement already satisfied: pytest in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (8.4.0)
Requirement already satisfied: pytest-asyncio in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (1.0.0)
Requirement already satisfied: pytest-mock in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (3.14.1)
Requirement already satisfied: pytest-cov in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (6.1.1)
Requirement already satisfied: iniconfig>=1 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.1.0)
Requirement already satisfied: packaging>=20 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (25.0)
Requirement already satisfied: pluggy<2,>=1.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (1.6.0)
Requirement already satisfied: pygments>=2.7.2 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from pytest) (2.19.1)
Requirement already satisfied: coverage>=7.5 in /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages (from coverage[toml]>=7.5->pytest-cov) (7.8.2)
[0;34m[INFO][0m Running tests for service: common
[1;33m[WARNING][0m No tests directory found for common package
[0;32m[SUCCESS][0m Build completed successfully for: common
[0;36m--- Running security linting (bandit) ---[0m
[0;32m[SUCCESS][0m Code quality checks passed

[0;35m=== 🧪 Unit Tests (Mirror CI/CD Test Stage) ===[0m
[1;33m[WARNING][0m No tests found for htmlcov
[1;33m[WARNING][0m No tests found for inventory-service
[1;33m[WARNING][0m No tests found for notification-service
[0;36m--- Running unit tests for order-service ---[0m
============================= test session starts ==============================
platform darwin -- Python 3.11.13, pytest-8.4.0, pluggy-1.6.0 -- /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.13', 'Platform': 'macOS-14.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.0', 'pluggy': '1.6.0'}, 'Plugins': {'html': '4.1.1', 'timeout': '2.4.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'anyio': '3.7.1', 'cov': '6.1.1', 'asyncio': '1.0.0'}}
rootdir: /Users/yifengzhang/workspace/cloud-native-order-processor
configfile: pytest.ini
plugins: html-4.1.1, timeout-2.4.0, metadata-3.1.1, mock-3.14.1, anyio-3.7.1, cov-6.1.1, asyncio-1.0.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 31 items

tests/test_order-service/test_app.py::test_root_routes_health_check PASSED [  3%]
tests/test_order-service/test_app.py::test_app_metadata PASSED           [  6%]
tests/test_order-service/test_app.py::test_shutdown_event PASSED         [  9%]
tests/test_order-service/test_app.py::test_cors_middleware_headers PASSED [ 12%]
tests/test_order-service/test_event_service.py::TestEventService::test_event_service_initialization PASSED [ 16%]
tests/test_order-service/test_event_service.py::TestEventService::test_event_service_initialization_default_region PASSED [ 19%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_success_both_services PASSED [ 22%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_sns_only PASSED [ 25%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_only PASSED [ 29%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_no_services_configured PASSED [ 32%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_sns_failure PASSED [ 35%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_failure PASSED [ 38%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_event_creation PASSED [ 41%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_invalid_event_type PASSED [ 45%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_with_valid_event_types PASSED [ 48%]
tests/test_order-service/test_event_service.py::TestEventServiceIntegration::test_event_service_with_real_order_data PASSED [ 51%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_success PASSED [ 54%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_product_not_found PASSED [ 58%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_no_inventory PASSED [ 61%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_insufficient_stock PASSED [ 64%]
tests/test_order-service/test_order_service.py::TestOrderService::test_get_order_success PASSED [ 67%]
tests/test_order-service/test_order_service.py::TestOrderService::test_get_order_not_found PASSED [ 70%]
tests/test_order-service/test_order_service.py::TestOrderService::test_list_orders_no_filters PASSED [ 74%]
tests/test_order-service/test_order_service.py::TestOrderService::test_list_orders_with_filters PASSED [ 77%]
tests/test_order-service/test_order_service.py::TestOrderService::test_update_order_status_success PASSED [ 80%]
tests/test_order-service/test_order_service.py::TestOrderService::test_update_order_status_not_found PASSED [ 83%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_with_shipping_address PASSED [ 87%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_without_shipping_address PASSED [ 90%]
tests/test_order-service/test_order_service.py::TestOrderServiceIntegration::test_complete_order_workflow PASSED [ 93%]
tests/test_order-service/test_order_service.py::TestOrderServiceIntegration::test_order_creation_rollback_scenario PASSED [ 96%]
tests/test_order-service/test_order_service.py::TestOrderServiceIntegration::test_order_service_initialization PASSED [100%]

=============================== warnings summary ===============================
../../.test-workspace/venv/lib/python3.11/site-packages/starlette/formparsers.py:10
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/starlette/formparsers.py:10: PendingDeprecationWarning: Please use `import python_multipart` instead.
    import multipart

src/app.py:44
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/app.py:44: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

../../.test-workspace/venv/lib/python3.11/site-packages/fastapi/applications.py:4547
../../.test-workspace/venv/lib/python3.11/site-packages/fastapi/applications.py:4547
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/fastapi/applications.py:4547: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

src/app.py:49
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/app.py:49: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("shutdown")

services/order-service/tests/test_order-service/test_event_service.py: 15 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/services/event_service.py:33: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    data=order.dict(),

services/order-service/tests/test_order-service/test_event_service.py: 15 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/pydantic/main.py:979: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn('The `dict` method is deprecated; use `model_dump` instead.', DeprecationWarning)

services/order-service/tests/test_order-service/test_event_service.py: 13 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/services/event_service.py:40: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    Message=event.json(),

services/order-service/tests/test_order-service/test_event_service.py: 17 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/pydantic/main.py:1005: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn('The `json` method is deprecated; use `model_dump_json` instead.', DeprecationWarning)

services/order-service/tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_success_both_services
services/order-service/tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_only
services/order-service/tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_failure
services/order-service/tests/test_order-service/test_event_service.py::TestEventServiceIntegration::test_event_service_with_real_order_data
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/services/event_service.py:50: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    Body=event.json(),

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
______________ coverage: platform darwin, python 3.11.13-final-0 _______________

Name                            Stmts   Miss  Cover   Missing
-------------------------------------------------------------
src/app.py                         32      6    81%   35-36, 46, 54, 60-62
src/database_utils.py               6      6     0%   1-12
src/services/__init__.py            0      0   100%
src/services/event_service.py      24      0   100%
src/services/order_service.py      81      0   100%
src/services/orders.py             48     30    38%   22-28, 39-43, 49-57, 65-76
-------------------------------------------------------------
TOTAL                             191     42    78%
======================= 31 passed, 69 warnings in 0.87s ========================
============================= test session starts ==============================
platform darwin -- Python 3.11.13, pytest-8.4.0, pluggy-1.6.0 -- /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.13', 'Platform': 'macOS-14.6.1-arm64-arm-64bit', 'Packages': {'pytest': '8.4.0', 'pluggy': '1.6.0'}, 'Plugins': {'html': '4.1.1', 'timeout': '2.4.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'anyio': '3.7.1', 'cov': '6.1.1', 'asyncio': '1.0.0'}}
rootdir: /Users/yifengzhang/workspace/cloud-native-order-processor
configfile: pytest.ini
plugins: html-4.1.1, timeout-2.4.0, metadata-3.1.1, mock-3.14.1, anyio-3.7.1, cov-6.1.1, asyncio-1.0.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 31 items

tests/test_order-service/test_app.py::test_root_routes_health_check PASSED [  3%]
tests/test_order-service/test_app.py::test_app_metadata PASSED           [  6%]
tests/test_order-service/test_app.py::test_shutdown_event PASSED         [  9%]
tests/test_order-service/test_app.py::test_cors_middleware_headers PASSED [ 12%]
tests/test_order-service/test_event_service.py::TestEventService::test_event_service_initialization PASSED [ 16%]
tests/test_order-service/test_event_service.py::TestEventService::test_event_service_initialization_default_region PASSED [ 19%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_success_both_services PASSED [ 22%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_sns_only PASSED [ 25%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_only PASSED [ 29%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_no_services_configured PASSED [ 32%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_sns_failure PASSED [ 35%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_failure PASSED [ 38%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_event_creation PASSED [ 41%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_invalid_event_type PASSED [ 45%]
tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_with_valid_event_types PASSED [ 48%]
tests/test_order-service/test_event_service.py::TestEventServiceIntegration::test_event_service_with_real_order_data PASSED [ 51%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_success PASSED [ 54%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_product_not_found PASSED [ 58%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_no_inventory PASSED [ 61%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_insufficient_stock PASSED [ 64%]
tests/test_order-service/test_order_service.py::TestOrderService::test_get_order_success PASSED [ 67%]
tests/test_order-service/test_order_service.py::TestOrderService::test_get_order_not_found PASSED [ 70%]
tests/test_order-service/test_order_service.py::TestOrderService::test_list_orders_no_filters PASSED [ 74%]
tests/test_order-service/test_order_service.py::TestOrderService::test_list_orders_with_filters PASSED [ 77%]
tests/test_order-service/test_order_service.py::TestOrderService::test_update_order_status_success PASSED [ 80%]
tests/test_order-service/test_order_service.py::TestOrderService::test_update_order_status_not_found PASSED [ 83%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_with_shipping_address PASSED [ 87%]
tests/test_order-service/test_order_service.py::TestOrderService::test_create_order_without_shipping_address PASSED [ 90%]
tests/test_order-service/test_order_service.py::TestOrderServiceIntegration::test_complete_order_workflow PASSED [ 93%]
tests/test_order-service/test_order_service.py::TestOrderServiceIntegration::test_order_creation_rollback_scenario PASSED [ 96%]
tests/test_order-service/test_order_service.py::TestOrderServiceIntegration::test_order_service_initialization PASSED [100%]

=============================== warnings summary ===============================
../../.test-workspace/venv/lib/python3.11/site-packages/starlette/formparsers.py:10
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/starlette/formparsers.py:10: PendingDeprecationWarning: Please use `import python_multipart` instead.
    import multipart

src/app.py:44
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/app.py:44: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

../../.test-workspace/venv/lib/python3.11/site-packages/fastapi/applications.py:4547
../../.test-workspace/venv/lib/python3.11/site-packages/fastapi/applications.py:4547
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/fastapi/applications.py:4547: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

src/app.py:49
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/app.py:49: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("shutdown")

services/order-service/tests/test_order-service/test_event_service.py: 15 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/services/event_service.py:33: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    data=order.dict(),

services/order-service/tests/test_order-service/test_event_service.py: 15 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/pydantic/main.py:979: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn('The `dict` method is deprecated; use `model_dump` instead.', DeprecationWarning)

services/order-service/tests/test_order-service/test_event_service.py: 13 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/services/event_service.py:40: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    Message=event.json(),

services/order-service/tests/test_order-service/test_event_service.py: 17 warnings
  /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/venv/lib/python3.11/site-packages/pydantic/main.py:1005: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn('The `json` method is deprecated; use `model_dump_json` instead.', DeprecationWarning)

services/order-service/tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_success_both_services
services/order-service/tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_only
services/order-service/tests/test_order-service/test_event_service.py::TestEventService::test_publish_order_event_s3_failure
services/order-service/tests/test_order-service/test_event_service.py::TestEventServiceIntegration::test_event_service_with_real_order_data
  /Users/yifengzhang/workspace/cloud-native-order-processor/services/order-service/src/services/event_service.py:50: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    Body=event.json(),

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================= 31 passed, 69 warnings in 0.73s ========================
[1;33m[WARNING][0m No tests found for payment-service
[0;32m[SUCCESS][0m Unit tests completed successfully

[0;35m=== 🏗️ Infrastructure Tests (Mirror CI/CD Infrastructure Stage) ===[0m
[0;36m--- Terraform validation ---[0m
[0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/null from the dependency lock file
- Reusing previous version of hashicorp/tls from the dependency lock file
- Reusing previous version of hashicorp/aws from the dependency lock file
- Reusing previous version of hashicorp/random from the dependency lock file
- Using previously-installed hashicorp/null v3.2.4
- Using previously-installed hashicorp/tls v4.1.0
- Using previously-installed hashicorp/aws v5.99.1
- Using previously-installed hashicorp/random v3.7.2

[0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m
[32m[1mSuccess![0m The configuration is valid.
[0m
eks.tf
messaging.tf
[0;36m--- Running infrastructure tests ---[0m

================================================================================
             Infrastructure Testing - test-infrastructure v1.0.0             
================================================================================


--- Checking Test Prerequisites ---

✓ All test prerequisites satisfied

--- Preparing Test Environment ---

[0;32m[SUCCESS][0m Infrastructure tests completed

[0;35m=== 🔒 Security Scanning (Mirror CI/CD Security Stage) ===[0m
[0;36m--- Running Trivy security scan ---[0m

Report Summary

┌──────────────────────────────────────────────────────────────────────────────────┬────────────────┬─────────────────┬─────────┬───────────────────┐
│                                      Target                                      │      Type      │ Vulnerabilities │ Secrets │ Misconfigurations │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/pkg_resources/tests/data/my-t- │   python-pkg   │        0        │    -    │         -         │
│ est-package_zipped-egg/my_test_package-1.0-py3.7.egg                             │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/pkg_resources/tests/data/my-test-package_zip- │   python-pkg   │        0        │    -    │         -         │
│ ped-egg/my_test_package-1.0-py3.7.egg                                            │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/.venv-all-tests/lib/python3.11/site-packages/pkg_resources/tests/data/- │   python-pkg   │        0        │    -    │         -         │
│ my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg                         │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/.venv-common/lib/python3.11/site-packages/pkg_resources/tests/data/my-- │   python-pkg   │        0        │    -    │         -         │
│ test-package_zipped-egg/my_test_package-1.0-py3.7.egg                            │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/.venv-inventory-service/lib/python3.11/site-packages/pkg_resources/tes- │   python-pkg   │        0        │    -    │         -         │
│ ts/data/my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg                 │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/.venv-notification-service/lib/python3.11/site-packages/pkg_resources/- │   python-pkg   │        0        │    -    │         -         │
│ tests/data/my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg              │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/.venv-order-service/lib/python3.11/site-packages/pkg_resources/tests/d- │   python-pkg   │        0        │    -    │         -         │
│ ata/my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg                     │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/.venv-payment-service/lib/python3.11/site-packages/pkg_resources/tests- │   python-pkg   │        0        │    -    │         -         │
│ /data/my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg                   │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/common/.venv-common/lib/python3.11/site-packages/pkg_resources/tests/d- │   python-pkg   │        0        │    -    │         -         │
│ ata/my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg                     │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/common/.venv-order-processor-common/lib/python3.11/site-packages/pkg_r- │   python-pkg   │        0        │    -    │         -         │
│ esources/tests/data/my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg     │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/order-service/.venv-order-service/lib/python3.11/site-packages/pkg_res- │   python-pkg   │        0        │    -    │         -         │
│ ources/tests/data/my-test-package_zipped-egg/my_test_package-1.0-py3.7.egg       │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/common/requirements.txt                                                 │      pip       │        0        │    -    │         -         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/order-service/requirements.txt                                          │      pip       │        0        │    -    │         -         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ services/order-service/tests/requirements.txt                                    │      pip       │        0        │    -    │         -         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/cloudformation/201- │ cloudformation │        -        │    -    │         0         │
│ 0-05-15/resources-1.json                                                         │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/cloudwatch/2010-08- │ cloudformation │        -        │    -    │         0         │
│ -01/resources-1.json                                                             │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/dynamodb/2012-08-1- │ cloudformation │        -        │    -    │         0         │
│ 0/resources-1.json                                                               │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/ec2/2014-10-01/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/ec2/2015-03-01/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/ec2/2015-04-15/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/ec2/2015-10-01/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/ec2/2016-04-01/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/ec2/2016-09-15/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/ec2/2016-11-15/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/glacier/2012-06-01- │ cloudformation │        -        │    -    │         0         │
│ /resources-1.json                                                                │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/iam/2010-05-08/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/opsworks/2013-02-1- │ cloudformation │        -        │    -    │         0         │
│ 8/resources-1.json                                                               │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/s3/2006-03-01/reso- │ cloudformation │        -        │    -    │         0         │
│ urces-1.json                                                                     │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/sns/2010-03-31/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .test-workspace/venv/lib/python3.11/site-packages/boto3/data/sqs/2012-11-05/res- │ cloudformation │        -        │    -    │         0         │
│ ources-1.json                                                                    │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/cloudformation/2010-05-15/resourc- │ cloudformation │        -        │    -    │         0         │
│ es-1.json                                                                        │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/cloudwatch/2010-08-01/resources-1- │ cloudformation │        -        │    -    │         0         │
│ .json                                                                            │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/dynamodb/2012-08-10/resources-1.j- │ cloudformation │        -        │    -    │         0         │
│ son                                                                              │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/ec2/2014-10-01/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/ec2/2015-03-01/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/ec2/2015-04-15/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/ec2/2015-10-01/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/ec2/2016-04-01/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/ec2/2016-09-15/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/ec2/2016-11-15/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/glacier/2012-06-01/resources-1.js- │ cloudformation │        -        │    -    │         0         │
│ on                                                                               │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/iam/2010-05-08/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/opsworks/2013-02-18/resources-1.j- │ cloudformation │        -        │    -    │         0         │
│ son                                                                              │                │                 │         │                   │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/s3/2006-03-01/resources-1.json     │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/sns/2010-03-31/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ .venv/lib/python3.11/site-packages/boto3/data/sqs/2012-11-05/resources-1.json    │ cloudformation │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ docker/order-service/Dockerfile                                                  │   dockerfile   │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ kubernetes/deployment.yaml                                                       │   kubernetes   │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ kubernetes/mainfests/namespace.yaml                                              │   kubernetes   │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ kubernetes/secrets-config-generated.yaml                                         │   kubernetes   │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ kubernetes/service-account-generated.yaml                                        │   kubernetes   │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ kubernetes/service-account.yaml                                                  │   kubernetes   │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ kubernetes/service-ingress.yaml                                                  │   kubernetes   │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform                                                                        │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/ecr.tf                                                                 │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/eks.tf                                                                 │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/messaging.tf                                                           │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/rds.tf                                                                 │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/s3.tf                                                                  │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/scripts                                                                │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/security_group.tf                                                      │   terraform    │        -        │    -    │         0         │
├──────────────────────────────────────────────────────────────────────────────────┼────────────────┼─────────────────┼─────────┼───────────────────┤
│ terraform/vpc.tf                                                                 │   terraform    │        -        │    -    │         0         │
└──────────────────────────────────────────────────────────────────────────────────┴────────────────┴─────────────────┴─────────┴───────────────────┘
Legend:
- '-': Not scanned
- '0': Clean (no security findings detected)

[0;34m[INFO][0m Install 'safety' for Python dependency security scanning: pip install safety
[0;36m--- Running git secrets scan ---[0m
[0;32m[SUCCESS][0m Security scanning completed

[0;35m=== 📊 Generating Test Report ===[0m
[0;32m[SUCCESS][0m Test report generated: /Users/yifengzhang/workspace/cloud-native-order-processor/.test-workspace/local-test-report.md

[0;35m=== 🧹 Cleaning Up ===[0m
[0;32m[SUCCESS][0m Cleanup completed

[0;35m=== Final Summary ===[0m
[0;32m✅ All tests passed! (75s)[0m
[0;32m🚀 Ready to push to GitHub[0m

[0;34m[INFO][0m Your code should pass the CI/CD pipeline
[0;34m[INFO][0m Next steps:
[0;34m[INFO][0m   1. git add .
[0;34m[INFO][0m   2. git commit -m 'your message'
[0;34m[INFO][0m   3. git push origin develop

[0;35m=== 🧹 Cleaning Up ===[0m
[0;32m[SUCCESS][0m Cleanup completed
